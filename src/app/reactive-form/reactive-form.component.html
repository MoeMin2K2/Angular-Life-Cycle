<div class="container">
    <h2>Registration Form</h2>
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="name">Username: </label>
            <input type="text" name="name" id="name" class="form-control" formControlName="name" placeholder="John Doe">
            <span *ngIf="isInvalid('name')">
                <small class="error">
                    <i>{{invalidMessage('name')}}</i>
                </small>
            </span>
        </div>
        <div class="form-group">
            <label for="email">Email: </label>
            <input type="email" name="email" id="email" class="form-control" formControlName="email" placeholder="john@gmail.com">
            <span *ngIf="isInvalid('email')">
                <small class="error">
                    <i>{{invalidMessage('email')}}</i>
                </small>
            </span>
        </div>
        <div class="form-group">
            <label for="password">Password: </label>
            <input type="password" name="password" id="password" class="form-control" formControlName="password" placeholder="Create Password">
        
            <span *ngIf="isInvalid('password')">
                <small class="error">
                    <i>{{invalidMessage('password')}}</i>
                </small>
            </span>
        </div>
        <div class="form-group" *ngIf="registrationForm.get('password')?.touched">
            <label for="compass">Confirm Password: </label>
            <input type="password" name="compass" id="compass" class="form-control" formControlName="compass" placeholder="Confirm Password">
            <span *ngIf="isInvalid('compass') || registrationForm.errors?.['notMatchPassword'] && (registrationForm.get('compass')?.dirty || registrationForm.get('compass')?.touched)">
                <small class="error">
                    <i>{{invalidMessage('compass')}}</i>
                    <i *ngIf="registrationForm.errors?.['notMatchPassword']">*Password Does Not Match</i>
                </small>
            </span>
        </div>
        <div class="form-group">
            <label for="phone">Phone: </label>
            <input type="tel" name="phone" id="phone" class="form-control" formControlName="phone" placeholder="09987465342">
            <span *ngIf="isInvalid('phone')">
                <small class="error">
                    <i>{{invalidMessage('phone')}}</i>
                </small>
            </span>
        </div>
        <div class="form-group">
            <label for="salary">Salary: </label>
            <input type="number" name="salary" id="salary" class="form-control" formControlName="salary" placeholder="100000" (input)="calculateTax()">
            <span *ngIf="isInvalid('salary')">
                <small class="error">
                    <i>{{invalidMessage('salary')}}</i>
                </small>
            </span>
        </div>
        <div class="form-group">
            <label for="tax">Tax: </label>
            <input type="text" name="tax" id="tax" class="form-control" formControlName="tax" placeholder="Tax" [value]="tax" readonly>
        </div>
        <div class="form-group">
            <label for="dob">Birth Date: </label>
            <input type="date" name="dob" id="dob" class="form-control" formControlName="dob" (change)="onDateChange($event)">
        </div>
        <div class="form-group">
            <label for="age">Age: </label>
            <input type="number" name="age" id="age" class="form-control" formControlName="age" placeholder="Age" [value]="age" readonly>
        </div>
        <div class="form-group">
            <label for="edu">Education: </label>
            <select name="edu" id="edu" class="form-control" formControlName="edu">
                <option value="" disabled selected hidden>Select Your Education</option>
                <option *ngFor="let edu of eduOptions" [value]="edu.value">{{edu.value}}</option>
            </select>
        </div>
        <div formGroupName="address">
            <div class="form-group">
                <label for="street">Street:</label>
                <input type="text" name="street" id="street" class="form-control" formControlName="street" placeholder="No.12 Niban St">
                <span *ngIf="isInvalid('address.street')">
                    <small class="error">
                      <i>{{invalidMessage('address.street')}}</i>
                    </small>
                  </span>
            </div>
            <div class="form-group">
                <label for="city">City:</label>
                <input type="text" name="city" id="city" class="form-control" formControlName="city" placeholder="Kawlin">
                <span *ngIf="isInvalid('address.city')">
                    <small class="error">
                      <i>{{invalidMessage('address.city')}}</i>
                    </small>
                  </span>
            </div>
            <div class="form-group">
                <label for="state">State:</label>
                <input type="text" name="state" id="state" class="form-control" formControlName="state" placeholder="Sagaing Region">
                <span *ngIf="isInvalid('address.state')">
                    <small class="error">
                      <i>{{invalidMessage('address.state')}}</i>
                    </small>
                  </span>
            </div>
            <div class="form-group">
                <label for="zip">Zip:</label>
                <input type="text" name="zip" id="zip" class="form-control" formControlName="zip" placeholder="1212">
                <span *ngIf="isInvalid('address.zip')">
                    <small class="error">
                      <i>{{invalidMessage('address.zip')}}</i>
                    </small>
                  </span>
            </div>
        </div>
        <button type="submit" class="btn" [disabled]="!registrationForm.valid">Submit</button>
    </form>
</div>